# [Silver II] Епрестановка - 22144 

[문제 링크](https://www.acmicpc.net/problem/22144) 

### 성능 요약

메모리: 123572 KB, 시간: 180 ms

### 분류

수학, 순열 사이클 분할

### 제출 일자

2025년 4월 1일 09:00:21

### 문제 설명

<p>Назовем <i>епрестановкой</i> такую перестановку <i>z</i> чисел от 1 до <i>n</i>, которая меняет первые два элемента местами: <i>z</i> = [2, 1, 3, 4, ..., <i>n</i>].</p>

<p>Пусть у вас епрестановка <i>z</i> и перестановка <i>p</i> = [<i>p</i><sub>1</sub>, <i>p</i><sub>2</sub>, ..., <i>p</i><sub><i>n</i></sub>] чисел от 1 до <i>n</i>. Рассмотрим <i>n</i> различных предметов, расположенных на позициях, пронумерованных от 1 до <i>n</i>. Предметы можно переставлять в соответствии с перестановками: после применения перестановки <i>q</i>, предмет, который находится на позиции <i>j</i>, перемещается на позицию <i>q<sub>j</sub></i> для каждого <i>j</i> от 1 до <i>n</i>.</p>

<p>Задано <i>m</i> пар целых чисел <i>a<sub>i</sub></i> и <i>b<sub>i</sub></i>. Необходимо для каждого <i>i</i> выяснить, возможно ли предмет, который находился на позиции <i>a<sub>i</sub></i>, переставить на позицию <i>b<sub>i</sub></i>, используя только перестановку <i>p</i> и епрестановку <i>z</i>. Для достижения цели <i>p</i> и <i>z</i> можно применять в любом порядке и сколько угодно раз.</p>

<p>Например, если <i>n</i> = 4, а <i>p</i> = [1, 4, 3, 2], то элемент с позиции 4 можно переставить на позицию 1 (для этого, например, можно применить <i>p</i> — после этого предмет с позиции 4 окажется на позиции 2, а затем применить <i>z</i>), а элемент с позиции 3 на позицию 4 переместить нельзя, поскольку и <i>p</i> и <i>z</i> оставляют его на месте.</p>

### 입력 

 <p>Первая строка содержит два целых числа <i>n</i> и <i>m</i> — количество элементов в перестановке и количество запросов (2 ≤ <i>n</i> ≤ 10<sup>5</sup>, 1 ≤ <i>m</i> ≤ 10<sup>5</sup>). Следующая строка содержит <i>n</i> целых чисел <i>p<sub>i</sub></i> — перестановку <i>p</i> . Каждая следующая строка содержит по два целых числа <i>a<sub>i</sub></i> и <i>b<sub>i</sub></i> (числа <i>a<sub>i</sub></i> и <i>b<sub>i</sub></i> лежат в диапазоне от 1 до <i>n</i>).</p>

### 출력 

 <p>Для каждого запроса выведите в отдельной строке «<code>Yes</code>», если можно переставить предмет с позиции <i>a<sub>i</sub></i> на позицию <i>b<sub>i</sub></i>, иначе выведите «<code>No</code>».</p>

