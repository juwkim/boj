# [Silver III] 折り紙 (Origami) - 24145 

[문제 링크](https://www.acmicpc.net/problem/24145) 

### 성능 요약

메모리: 225932 KB, 시간: 520 ms

### 분류

브루트포스 알고리즘, 자료 구조, 해시를 사용한 집합과 맵, 정렬, 두 포인터

### 제출 일자

2024년 1월 28일 21:27:59

### 문제 설명

<p>あなたは JOI 高校の文化祭の展示のため，貼り絵を作ることになった．</p>

<p>貼り絵は，台紙にいくつかの折り紙を貼り付け作るのだが，折り紙を重ねて貼ると厚みが出 てはがれやすくなる．そこで折り紙が最も多く重なっている部分が何枚重ねであるのかと，そ の部分の合計の面積を知りたい．</p>

<p>まず貼り絵を作るための台紙として，横 a cm，縦 b cm の長方形の紙を使うことにした．こ の台紙には 1 cm おきに辺に平行になるように縦横に直線が引かれ，全体でa×b 個の一辺 1 cm の正方形の格子ができるように区切られている．これより，左から x 列目，下から y 行目の格 子を (x, y) と表す．</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/17374233-34a7-4050-bd2c-557a82b8100d/-/preview/" style="width: 161px; height: 123px;"></p>

<p style="text-align: center;">図 1: 横 8 cm，縦 6 cm の長方形の台紙 (a = 8, b = 6 の場合)</p>

<p>次に，台紙の上に n 枚の長方形の折り紙を順番に貼っていく．折り紙の貼り方 (折り紙を貼る 位置) は，4 つの整数の組 (p, q, r, s) で指定される．p, q, r, s は</p>

<p style="text-align: center;">1 ≤ p ≤ r ≤ a, 1 ≤ q ≤ s ≤ b</p>

<p>をみたす整数である．これは横 (r − p + 1) cm × 縦 (s − q + 1) cm の長方形の折り紙を，4 つ の格子 (p, q), (p, s), (r, q), (r, s) が折り紙の角になるように，台紙の上に貼ることを意味する．</p>

<p>下の図は，横 8 cm，縦 6 cm の長方形の台紙に，4枚の折り紙を(2, 4, 3, 6), (5, 1, 6, 6), (2, 5, 8, 5), (1, 2, 5, 3) の順番に貼った様子を図示したものである．このとき最も多く折り紙を重ねている部 分は 2 枚重ねであり，その部分の合計の面積は 6cm<sup>2</sup> である．</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/754eee46-529a-4492-8859-dacfc9ad06b2/-/preview/" style="width: 161px; height: 123px;"></p>

<p style="text-align: center;">図 2: 貼付け方の例</p>

<p>入力として台紙の大きさと，台紙に貼る折り紙の貼り方が与えられたとき，最も多く折り紙 が重なっている部分は何重であるかと，その部分の面積を求めるプログラムを書け．ただし，入 力では，必ず 2 枚以上の紙が重なっている格子が存在する．</p>

### 입력 

 <p>入力の 1 行目には台紙に貼る折り紙の枚数を表す整数 n (1 ≤ n ≤ 5, 000) が書かれている．</p>

<p>2 行目には台紙の大きさを表す整数 a, b (1 ≤ a, b ≤ 1, 000, 000) が横，縦の順に書かれている．</p>

<p>i + 2 行目 (1 ≤ i ≤ n) には，i 枚目の折り紙の貼り方を表す 4 つの整数 p<sub>i</sub>, q<sub>i</sub>, r<sub>i</sub>, s<sub>i</sub> が書かれ ている．p<sub>i</sub>, q<sub>i</sub>, r<sub>i</sub>, s<sub>i</sub> は</p>

<p style="text-align: center;">1 ≤ p<sub>i</sub> ≤ r<sub>i</sub> ≤ a, 1 ≤ q<sub>i</sub> ≤ s<sub>i</sub> ≤ b, r<sub>i</sub> − p<sub>i</sub> < 20, s<sub>i</sub> − q<sub>i</sub> < 20</p>

<p>を満たす．すなわち，貼り絵に用いる折り紙の辺の長さは 20 cm 以下である．</p>

### 출력 

 <p>出力は標準出力に 2 行で出力する．</p>

<p>1 行目には最も多く折り紙が重なっている部分は何重に貼られているかを表す整数を，2 行目 には最も沢山の折り紙が重なっている部分の面積を表す正の整数 (単位は cm<sup>2</sup>) を出力せよ．</p>

